@model IEnumerable<EasyCode.Models.Exercise>

@{
    ViewData["Title"] = "B√†i t·∫≠p HTML";
    Layout = "~/Views/Shared/_Layout.cshtml";
    ViewData["NoContainer"] = true;
}

@section Styles {
  <link rel="stylesheet" href="~/css/btcss.css" asp-append-version="true" />
  <link rel="stylesheet" href="~/css/notifications.css" asp-append-version="true" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
}

@section Scripts {
  <script src="~/js/menuicon.js" asp-append-version="true"></script>
  <script>
    function showContent(id, element) {
      const contents = document.querySelectorAll('.content');
      contents.forEach(c => c.classList.remove('active'));

      const selected = document.getElementById(id);
      if (selected) selected.classList.add('active');

      const menuItems = document.querySelectorAll('.sidebar_menu a');
      menuItems.forEach(item => item.classList.remove('active-link'));
      element.classList.add('active-link');
    }

    // Tab functionality
    document.addEventListener('DOMContentLoaded', function() {
      const tabButtons = document.querySelectorAll('.tab-button');
      tabButtons.forEach(button => {
        button.addEventListener('click', function() {
          const tabId = this.getAttribute('data-tab');
          const tabContent = document.getElementById(tabId);
          const parent = this.closest('.content-box');
          
          parent.querySelectorAll('.tab-button').forEach(btn => btn.classList.remove('active'));
          parent.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
          
          this.classList.add('active');
          if (tabContent) tabContent.classList.add('active');
        });
      });
    });
  </script>
}

<div class="main_box">
  <div class="sidebar_menu">
   <h2 class="part-title">PH·∫¶N 1: HTML</h2>

    <div class="section">
      
      <ul class="list">
        <li><a href="#" onclick="showContent('cautruc', this)" class="active-link" id="link-cautruc">C·∫•u tr√∫c HTML</a> <span id="menu-prog-cautruc" class="menu-percent">(0%)</span></li>
        <li><a href="#" onclick="showContent('soanthao', this)" id="link-soanthao">So·∫°n th·∫£o n·ªôi dung</a> <span id="menu-prog-soanthao" class="menu-percent">(0%)</span></li>
        <li><a href="#" onclick="showContent('thecoBan', this)" id="link-thecoBan">C√°c th·∫ª c∆° b·∫£n</a> <span id="menu-prog-thecoBan" class="menu-percent">(0%)</span></li>
        <li><a href="#" onclick="showContent('lienKet', this)" id="link-lienKet">Li√™n k·∫øt (Link)</a> <span id="menu-prog-lienKet" class="menu-percent">(0%)</span></li>
        <li><a href="#" onclick="showContent('hinhAnh', this)" id="link-hinhAnh">H√¨nh ·∫£nh</a> <span id="menu-prog-hinhAnh" class="menu-percent">(0%)</span></li>
        <li><a href="#" onclick="showContent('bangBieu', this)" id="link-bangBieu">B·∫£ng bi·ªÉu</a> <span id="menu-prog-bangBieu" class="menu-percent">(0%)</span></li>
        <li><a href="#" onclick="showContent('danhSach', this)" id="link-danhSach">Danh s√°ch</a> <span id="menu-prog-danhSach" class="menu-percent">(0%)</span></li>
        <li><a href="#" onclick="showContent('chuThich', this)" id="link-chuThich">Ch√∫ th√≠ch, Tr√≠ch d·∫´n</a> <span id="menu-prog-chuThich" class="menu-percent">(0%)</span></li>
      </ul>
    </div>
  </div>

  <div class="fixed-scroll">
    <div class="main-content">
        
    <div id="cautruc" class="content active">
      <div class="content-box">
        <h2>B√†i 1: T·∫°o trang HTML ƒë·∫ßu ti√™n</h2>
        <div class="tabs">
          <button class="tab-button active" data-tab="yeucau1">Y√™u c·∫ßu</button>
          <button class="tab-button" data-tab="goiy1">G·ª£i √Ω</button>
        </div>
        <div id="yeucau1" class="tab-content active">
          <p><strong>Y√™u c·∫ßu:</strong></p>
          <div class="khung">
            <p>T·∫°o m·ªôt trang HTML ƒë∆°n gi·∫£n v·ªõi c·∫•u tr√∫c c∆° b·∫£n bao g·ªìm:</p>
            <ul>
              <li>Khai b√°o DOCTYPE</li>
              <li>Th·∫ª &lt;html&gt; v·ªõi thu·ªôc t√≠nh lang="vi"</li>
              <li>Th·∫ª &lt;head&gt; ch·ª©a &lt;meta charset="UTF-8"&gt; v√† &lt;title&gt;</li>
              <li>Th·∫ª &lt;body&gt; ch·ª©a ti√™u ƒë·ªÅ h1 v√† ƒëo·∫°n vƒÉn</li>
            </ul>
          </div>
        </div>
        <div id="goiy1" class="tab-content">
            <p><strong>G·ª£i √Ω:</strong></p>
            <div class="khung">
                <p>C·∫•u tr√∫c chu·∫©n c·ªßa m·ªôt trang HTML5:</p>
<pre>
&lt;!DOCTYPE html&gt;
&lt;html lang="vi"&gt;
  &lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;Ti√™u ƒë·ªÅ trang web&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;h1&gt;Ti√™u ƒë·ªÅ b√†i vi·∫øt&lt;/h1&gt;
    &lt;p&gt;N·ªôi dung ƒëo·∫°n vƒÉn...&lt;/p&gt;
  &lt;/body&gt;
&lt;/html&gt;
</pre>
            </div>
        </div>
      </div>

      <div class="content-box">
        <h2>B√†i 2: Ph√¢n bi·ªát c√°c ph·∫ßn &lt;head&gt; v√† &lt;body&gt;</h2>
        <div class="tabs">
          <button class="tab-button active" data-tab="yeucau2">Y√™u c·∫ßu</button>
          <button class="tab-button" data-tab="goiy2">G·ª£i √Ω</button>
        </div>
        <div id="yeucau2" class="tab-content active">
          <p><strong>Y√™u c·∫ßu:</strong></p>
          <div class="khung">
            <p>T·∫°o trang HTML v·ªõi:</p>
            <ul>
              <li>Ph·∫ßn &lt;head&gt;: ch·ª©a title v√† meta charset</li>
              <li>Ph·∫ßn &lt;body&gt;: ch·ª©a h1 v√† p gi·∫£i th√≠ch s·ª± kh√°c bi·ªát</li>
            </ul>
          </div>
        </div>
        <div id="goiy2" class="tab-content">
            <p><strong>G·ª£i √Ω:</strong></p>
            <div class="khung">
                <ul>
                    <li><code>&lt;head&gt;</code>: Ch·ª©a th√¥ng tin cho tr√¨nh duy·ªát (ti√™u ƒë·ªÅ tab, b·∫£ng m√£, link CSS...). N·ªôi dung ·ªü ƒë√¢y <strong>kh√¥ng</strong> hi·ªÉn th·ªã tr·ª±c ti·∫øp tr√™n trang.</li>
                    <li><code>&lt;body&gt;</code>: Ch·ª©a n·ªôi dung m√† ng∆∞·ªùi d√πng nh√¨n th·∫•y (vƒÉn b·∫£n, h√¨nh ·∫£nh, li√™n k·∫øt...).</li>
                </ul>
            </div>
        </div>
      </div>

      <div class="content-box">
        <h2>B√†i 3: Th√™m k√Ω t·ª± ƒë·∫∑c bi·ªát (¬©, ‚Ñ¢, &lt;, &gt;, ‚Ä¶)</h2>
        <div class="tabs">
          <button class="tab-button active" data-tab="yeucau3">Y√™u c·∫ßu</button>
          <button class="tab-button" data-tab="goiy3">G·ª£i √Ω</button>
        </div>
        <div id="yeucau3" class="tab-content active">
          <p><strong>Y√™u c·∫ßu:</strong></p>
          <div class="khung">
            <p>T·∫°o trang HTML hi·ªÉn th·ªã c√°c k√Ω t·ª± ƒë·∫∑c bi·ªát:</p>
            <ul>
              <li>B·∫£n quy·ªÅn ¬©</li>
              <li>Th∆∞∆°ng hi·ªáu ‚Ñ¢</li>
              <li>K√Ω hi·ªáu nh·ªè h∆°n &lt; v√† l·ªõn h∆°n &gt;</li>
              <li>Tr√°i tim ‚ô•</li>
            </ul>
          </div>
        </div>
        <div id="goiy3" class="tab-content">
            <p><strong>G·ª£i √Ω:</strong></p>
            <div class="khung">
                <p>S·ª≠ d·ª•ng c√°c m√£ th·ª±c th·ªÉ (HTML Entities):</p>
                <ul>
                    <li>¬© : <code>&amp;copy;</code></li>
                    <li>‚Ñ¢ : <code>&amp;trade;</code></li>
                    <li>&lt; : <code>&amp;lt;</code> (less than)</li>
                    <li>&gt; : <code>&amp;gt;</code> (greater than)</li>
                    <li>‚ô• : <code>&amp;hearts;</code></li>
                </ul>
            </div>
        </div>
      </div>
    </div>

    <div id="soanthao" class="content">
      <div class="content-box">
        <h2>B√†i 1: T·∫°o ƒëo·∫°n vƒÉn, ti√™u ƒë·ªÅ, ng·∫Øt d√≤ng, xu·ªëng h√†ng</h2>
        <div class="tabs">
          <button class="tab-button active" data-tab="yeucau_soanthao1">Y√™u c·∫ßu</button>
          <button class="tab-button" data-tab="goiy_soanthao1">G·ª£i √Ω</button>
        </div>
        <div id="yeucau_soanthao1" class="tab-content active">
          <p><strong>Y√™u c·∫ßu:</strong></p>
          <div class="khung">
            <p>T·∫°o trang HTML v·ªõi:</p>
            <ul>
              <li>C√°c ti√™u ƒë·ªÅ h1, h2</li>
              <li>ƒêo·∫°n vƒÉn v·ªõi th·∫ª &lt;p&gt;</li>
              <li>S·ª≠ d·ª•ng &lt;br&gt; ƒë·ªÉ xu·ªëng h√†ng</li>
            </ul>
          </div>
        </div>
        <div id="goiy_soanthao1" class="tab-content">
            <p><strong>G·ª£i √Ω:</strong></p>
            <div class="khung">
<pre>
&lt;h1&gt;ƒê√¢y l√† ti√™u ƒë·ªÅ l·ªõn nh·∫•t&lt;/h1&gt;
&lt;h2&gt;ƒê√¢y l√† ti√™u ƒë·ªÅ ph·ª•&lt;/h2&gt;
&lt;p&gt;
    ƒê√¢y l√† d√≤ng th·ª© nh·∫•t.&lt;br&gt;
    ƒê√¢y l√† d√≤ng th·ª© hai (ƒë√£ xu·ªëng d√≤ng).
&lt;/p&gt;
</pre>
            </div>
        </div>
      </div>
      

      <div class="content-box">
        <h2>B√†i 2: D√πng th·∫ª &lt;br&gt;, &lt;hr&gt; v√† c√°c th·∫ª ƒë·ªãnh d·∫°ng ch·ªØ</h2>
        <div class="tabs">
          <button class="tab-button active" data-tab="yeucau_soanthao2">Y√™u c·∫ßu</button>
          <button class="tab-button" data-tab="goiy_soanthao2">G·ª£i √Ω</button>
        </div>
        <div id="yeucau_soanthao2" class="tab-content active">
          <p><strong>Y√™u c·∫ßu:</strong></p>
          <div class="khung">
            <p>T·∫°o trang HTML s·ª≠ d·ª•ng:</p>
            <ul>
              <li>&lt;br&gt; ƒë·ªÉ xu·ªëng h√†ng</li>
              <li>&lt;hr&gt; ƒë·ªÉ t·∫°o ƒë∆∞·ªùng k·∫ª ngang</li>
              <li>&lt;b&gt;, &lt;i&gt;, &lt;u&gt; ƒë·ªÉ ƒë·ªãnh d·∫°ng ch·ªØ</li>
            </ul>
          </div>
        </div>
        <div id="goiy_soanthao2" class="tab-content">
             <p><strong>G·ª£i √Ω:</strong></p>
             <div class="khung">
                 <ul>
                     <li><code>&lt;br&gt;</code>: Xu·ªëng d√≤ng ƒë∆°n (kh√¥ng c·∫ßn th·∫ª ƒë√≥ng).</li>
                     <li><code>&lt;hr&gt;</code>: K·∫ª ƒë∆∞·ªùng ngang ph√¢n c√°ch (kh√¥ng c·∫ßn th·∫ª ƒë√≥ng).</li>
                     <li><code>&lt;b&gt;...&lt;/b&gt;</code>: <b>In ƒë·∫≠m</b></li>
                     <li><code>&lt;i&gt;...&lt;/i&gt;</code>: <i>In nghi√™ng</i></li>
                     <li><code>&lt;u&gt;...&lt;/u&gt;</code>: <u>G·∫°ch ch√¢n</u></li>
                 </ul>
             </div>
        </div>
      </div>
    </div>

    <div id="thecoBan" class="content">
      <div class="content-box">
        <h2>B√†i 1: T·∫°o ƒëo·∫°n vƒÉn c√≥ m√†u ch·ªØ v√† c·ª° ch·ªØ kh√°c nhau b·∫±ng thu·ªôc t√≠nh</h2>
        <div class="tabs">
          <button class="tab-button active" data-tab="yeucau6">Y√™u c·∫ßu</button>
          <button class="tab-button" data-tab="goiy6">G·ª£i √Ω</button>
        </div>
        <div id="yeucau6" class="tab-content active">
          <p><strong>Y√™u c·∫ßu:</strong></p>
          <div class="khung">
            <p>T·∫°o trang HTML v·ªõi c√°c ƒëo·∫°n vƒÉn c√≥:</p>
            <ul>
              <li>M√†u ch·ªØ ƒë·ªè</li>
              <li>C·ª° ch·ªØ 20px</li>
              <li>K·∫øt h·ª£p m√†u xanh d∆∞∆°ng v√† c·ª° 18px</li>
              <li>M√†u xanh l√° v√† c·ª° 22px</li>
            </ul>
          </div>
        </div>
        <div id="goiy6" class="tab-content">
             <p><strong>G·ª£i √Ω:</strong></p>
             <div class="khung">
                 <p>S·ª≠ d·ª•ng thu·ªôc t√≠nh <code>style</code> b√™n trong th·∫ª:</p>
<pre>
&lt;p style="color: red;"&gt;Ch·ªØ m√†u ƒë·ªè&lt;/p&gt;
&lt;p style="font-size: 20px;"&gt;C·ª° ch·ªØ 20px&lt;/p&gt;
&lt;p style="color: blue; font-size: 18px;"&gt;K·∫øt h·ª£p m√†u v√† c·ª° ch·ªØ&lt;/p&gt;
</pre>
             </div>
        </div>
      </div>

      <div class="content-box">
        <h2>B√†i 2: G·∫Øn <code>title</code>, <code>id</code>, <code>class</code> cho c√°c th·∫ª</h2>
        <div class="tabs">
          <button class="tab-button active" data-tab="yeucau7">Y√™u c·∫ßu</button>
          <button class="tab-button" data-tab="goiy7">G·ª£i √Ω</button>
        </div>
        <div id="yeucau7" class="tab-content active">
          <p><strong>Y√™u c·∫ßu:</strong></p>
          <div class="khung">
            <p>T·∫°o trang HTML v·ªõi c√°c th·∫ª c√≥ thu·ªôc t√≠nh:</p>
            <ul>
              <li>&lt;h1&gt; c√≥ title</li>
              <li>&lt;h2&gt; c√≥ id</li>
              <li>&lt;p&gt; c√≥ class v√† title</li>
            </ul>
          </div>
        </div>
        <div id="goiy7" class="tab-content">
             <p><strong>G·ª£i √Ω:</strong></p>
             <div class="khung">
                 <p>C√°ch vi·∫øt thu·ªôc t√≠nh:</p>
                 <ul>
                     <li><code>title="..."</code>: Hi·ªán tooltip khi r√™ chu·ªôt v√†o.</li>
                     <li><code>id="..."</code>: ƒê·ªãnh danh duy nh·∫•t cho ph·∫ßn t·ª≠.</li>
                     <li><code>class="..."</code>: Ph√¢n lo·∫°i nh√≥m ph·∫ßn t·ª≠ (th∆∞·ªùng d√πng cho CSS).</li>
                 </ul>
<pre>
&lt;h1 title="Xin ch√†o"&gt;Ti√™u ƒë·ªÅ&lt;/h1&gt;
&lt;h2 id="muc-1"&gt;M·ª•c 1&lt;/h2&gt;
&lt;p class="doan-van" title="ƒêo·∫°n vƒÉn"&gt;N·ªôi dung...&lt;/p&gt;
</pre>
             </div>
        </div>
      </div>
    </div>

    <div id="lienKet" class="content">
      <div class="content-box">
        <h2>B√†i 1: T·∫°o li√™n k·∫øt ƒë·∫øn m·ªôt trang web kh√°c b·∫±ng &lt;a&gt;</h2>
        <div class="tabs">
          <button class="tab-button active" data-tab="yeucau8">Y√™u c·∫ßu</button>
          <button class="tab-button" data-tab="goiy8">G·ª£i √Ω</button>
        </div>
        <div id="yeucau8" class="tab-content active">
          <p><strong>Y√™u c·∫ßu:</strong></p>
          <div class="khung">
            <p>T·∫°o trang HTML v·ªõi c√°c li√™n k·∫øt ƒë·∫øn:</p>
            <ul>
              <li>Google</li>
              <li>YouTube</li>
              <li>EasyCode.vn</li>
            </ul>
            <p>S·ª≠ d·ª•ng target="_blank" ƒë·ªÉ m·ªü trong tab m·ªõi.</p>
          </div>
        </div>
        <div id="goiy8" class="tab-content">
             <p><strong>G·ª£i √Ω:</strong></p>
             <div class="khung">
                 <p>S·ª≠ d·ª•ng th·∫ª <code>&lt;a&gt;</code> v·ªõi thu·ªôc t√≠nh <code>href</code>:</p>
<pre>
&lt;a href="https://google.com" target="_blank"&gt;ƒê·∫øn Google&lt;/a&gt;
</pre>
             </div>
        </div>
      </div>

      <div class="content-box">
        <h2>B√†i 2: T·∫°o li√™n k·∫øt n·ªôi b·ªô trong c√πng trang</h2>
        <div class="tabs">
          <button class="tab-button active" data-tab="yeucau9">Y√™u c·∫ßu</button>
          <button class="tab-button" data-tab="goiy9">G·ª£i √Ω</button>
        </div>
        <div id="yeucau9" class="tab-content active">
          <p><strong>Y√™u c·∫ßu:</strong></p>
          <div class="khung">
            <p>T·∫°o trang HTML v·ªõi:</p>
            <ul>
              <li>M·ª•c l·ª•c v·ªõi li√™n k·∫øt n·ªôi b·ªô</li>
              <li>C√°c ph·∫ßn c√≥ id</li>
              <li>Li√™n k·∫øt "L√™n ƒë·∫ßu trang"</li>
            </ul>
          </div>
        </div>
        <div id="goiy9" class="tab-content">
             <p><strong>G·ª£i √Ω:</strong></p>
             <div class="khung">
                 <p>D√πng d·∫•u <code>#</code> trong href ƒë·ªÉ tr·ªè ƒë·∫øn <code>id</code>:</p>
<pre>
&lt;!-- Link --&gt;
&lt;a href="#phan1"&gt;ƒê·∫øn Ph·∫ßn 1&lt;/a&gt;

&lt;!-- ƒê√≠ch ƒë·∫øn --&gt;
&lt;h2 id="phan1"&gt;N·ªôi dung Ph·∫ßn 1&lt;/h2&gt;
...
&lt;a href="#"&gt;V·ªÅ ƒë·∫ßu trang&lt;/a&gt;
</pre>
             </div>
        </div>
      </div>

      <div class="content-box">
        <h2>B√†i 3: T·∫°o li√™n k·∫øt m·ªü trong tab m·ªõi, g·∫Øn li√™n k·∫øt v√†o h√¨nh ·∫£nh</h2>
        <div class="tabs">
          <button class="tab-button active" data-tab="yeucau10">Y√™u c·∫ßu</button>
          <button class="tab-button" data-tab="goiy10">G·ª£i √Ω</button>
        </div>
        <div id="yeucau10" class="tab-content active">
          <p><strong>Y√™u c·∫ßu:</strong></p>
          <div class="khung">
            <p>T·∫°o trang HTML v·ªõi:</p>
            <ul>
              <li>Li√™n k·∫øt vƒÉn b·∫£n m·ªü trong tab m·ªõi</li>
              <li>H√¨nh ·∫£nh l√†m li√™n k·∫øt</li>
            </ul>
          </div>
        </div>
        <div id="goiy10" class="tab-content">
             <p><strong>G·ª£i √Ω:</strong></p>
             <div class="khung">
                 <p>L·ªìng th·∫ª <code>&lt;img&gt;</code> v√†o trong th·∫ª <code>&lt;a&gt;</code>:</p>
<pre>
&lt;a href="trang-dich.html" target="_blank"&gt;
  &lt;img src="anh.jpg" alt="M√¥ t·∫£ ·∫£nh"&gt;
&lt;/a&gt;
</pre>
             </div>
        </div>
      </div>
    </div>

    <div id="hinhAnh" class="content">
      <div class="content-box">
        <h2>B√†i 1: Th√™m h√¨nh ·∫£nh v√†o trang v√† ƒëi·ªÅu ch·ªânh k√≠ch th∆∞·ªõc, vi·ªÅn</h2>
        <div class="tabs">
          <button class="tab-button active" data-tab="yeucau11">Y√™u c·∫ßu</button>
          <button class="tab-button" data-tab="goiy11">G·ª£i √Ω</button>
        </div>
        <div id="yeucau11" class="tab-content active">
          <p><strong>Y√™u c·∫ßu:</strong></p>
          <div class="khung">
            <p>T·∫°o trang HTML v·ªõi h√¨nh ·∫£nh c√≥:</p>
            <ul>
              <li>K√≠ch th∆∞·ªõc t√πy ch·ªânh</li>
              <li>Vi·ªÅn ƒë·∫πp m·∫Øt</li>
              <li>Thu·ªôc t√≠nh alt</li>
            </ul>
          </div>
        </div>
        <div id="goiy11" class="tab-content">
             <p><strong>G·ª£i √Ω:</strong></p>
             <div class="khung">
<pre>
&lt;img src="link-anh.jpg" 
     alt="M√¥ t·∫£ khi ·∫£nh l·ªói" 
     width="300" 
     style="border: 5px solid red; border-radius: 10px;"&gt;
</pre>
             </div>
        </div>
      </div>

      <div class="content-box">
        <h2>B√†i 2: ·∫¢nh l√†m n·ªÅn trang</h2>
        <div class="tabs">
          <button class="tab-button active" data-tab="yeucau12">Y√™u c·∫ßu</button>
          <button class="tab-button" data-tab="goiy12">G·ª£i √Ω</button>
        </div>
        <div id="yeucau12" class="tab-content active">
          <p><strong>Y√™u c·∫ßu:</strong></p>
          <div class="khung">
            <p>T·∫°o trang HTML v·ªõi:</p>
            <ul>
              <li>H√¨nh ·∫£nh l√†m n·ªÅn cho body</li>
              <li>Text hi·ªÉn th·ªã tr√™n n·ªÅn</li>
              <li>CSS background properties</li>
            </ul>
          </div>
        </div>
        <div id="goiy12" class="tab-content">
             <p><strong>G·ª£i √Ω:</strong></p>
             <div class="khung">
                 <p>S·ª≠ d·ª•ng CSS cho th·∫ª <code>body</code>:</p>
<pre>
&lt;body style="background-image: url('link-anh.jpg'); 
             background-size: cover;
             color: white;"&gt;
    &lt;h1&gt;N·ªôi dung tr√™n n·ªÅn ·∫£nh&lt;/h1&gt;
&lt;/body&gt;
</pre>
             </div>
        </div>
      </div>
    </div>

    <div id="bangBieu" class="content">
      <div class="content-box">
        <h2>B√†i 1: T·∫°o b·∫£ng ƒë∆°n gi·∫£n v·ªõi 3 c·ªôt 3 h√†ng</h2>
        <div class="tabs">
          <button class="tab-button active" data-tab="yeucau13">Y√™u c·∫ßu</button>
          <button class="tab-button" data-tab="goiy13">G·ª£i √Ω</button>
        </div>
        <div id="yeucau13" class="tab-content active">
          <p><strong>Y√™u c·∫ßu:</strong></p>
          <div class="khung">
            <p>T·∫°o b·∫£ng HTML v·ªõi:</p>
            <ul>
              <li>3 c·ªôt v√† 3 h√†ng</li>
              <li>Ti√™u ƒë·ªÅ b·∫£ng</li>
              <li>Vi·ªÅn cho b·∫£ng</li>
            </ul>
          </div>
        </div>
        <div id="goiy13" class="tab-content">
             <p><strong>G·ª£i √Ω:</strong></p>
             <div class="khung">
                 <p>C·∫•u tr√∫c b·∫£ng c∆° b·∫£n:</p>
<pre>
&lt;table border="1"&gt;
  &lt;tr&gt; &lt;!-- H√†ng ti√™u ƒë·ªÅ --&gt;
    &lt;th&gt;C·ªôt 1&lt;/th&gt; &lt;th&gt;C·ªôt 2&lt;/th&gt; &lt;th&gt;C·ªôt 3&lt;/th&gt;
  &lt;/tr&gt;
  &lt;tr&gt; &lt;!-- H√†ng d·ªØ li·ªáu 1 --&gt;
    &lt;td&gt;D·ªØ li·ªáu 1&lt;/td&gt; &lt;td&gt;DL 2&lt;/td&gt; &lt;td&gt;DL 3&lt;/td&gt;
  &lt;/tr&gt;
  ...
&lt;/table&gt;
</pre>
             </div>
        </div>
      </div>

      <div class="content-box">
        <h2>B√†i 2: T·∫°o b·∫£ng v·ªõi rowspan v√† colspan</h2>
        <div class="tabs">
          <button class="tab-button active" data-tab="yeucau14">Y√™u c·∫ßu</button>
          <button class="tab-button" data-tab="goiy14">G·ª£i √Ω</button>
        </div>
        <div id="yeucau14" class="tab-content active">
          <p><strong>Y√™u c·∫ßu:</strong></p>
          <div class="khung">
            <p>T·∫°o b·∫£ng HTML s·ª≠ d·ª•ng:</p>
            <ul>
              <li>rowspan ƒë·ªÉ g·ªôp h√†ng</li>
              <li>colspan ƒë·ªÉ g·ªôp c·ªôt, Thi·∫øt k·∫ø b·∫£ng ph·ª©c t·∫°p</li>
              
            </ul>
          </div>
        </div>
        <div id="goiy14" class="tab-content">
             <p><strong>G·ª£i √Ω:</strong></p>
             <div class="khung">
                 <ul>
                     <li><code>colspan="2"</code>: √î chi·∫øm v·ªã tr√≠ c·ªßa 2 c·ªôt.</li>
                     <li><code>rowspan="2"</code>: √î chi·∫øm v·ªã tr√≠ c·ªßa 2 h√†ng (l∆∞u √Ω h√†ng ti·∫øp theo s·∫Ω b·ªõt ƒëi 1 √¥ td).</li>
                 </ul>
<pre>
&lt;td colspan="2"&gt;G·ªôp 2 c·ªôt&lt;/td&gt;
&lt;td rowspan="2"&gt;G·ªôp 2 h√†ng&lt;/td&gt;
</pre>
             </div>
        </div>
      </div>

      <div class="content-box">
        <h2>B√†i 3: T·∫°o b·∫£ng v·ªõi CSS styling</h2>
        <div class="tabs">
          <button class="tab-button active" data-tab="yeucau15">Y√™u c·∫ßu</button>
          <button class="tab-button" data-tab="goiy15">G·ª£i √Ω</button>
        </div>
        <div id="yeucau15" class="tab-content active">
          <p><strong>Y√™u c·∫ßu:</strong></p>
          <div class="khung">
            <p>T·∫°o b·∫£ng HTML v·ªõi styling CSS:</p>
            <ul>
              <li>M√†u n·ªÅn xen k·∫Ω</li>
              <li>Hover effects</li>
              <li>Border v√† padding</li>
            </ul>
          </div>
        </div>
        <div id="goiy15" class="tab-content">
             <p><strong>G·ª£i √Ω:</strong></p>
             <div class="khung">
                 <p>S·ª≠ d·ª•ng th·∫ª <code>&lt;style&gt;</code> trong head:</p>
<pre>
table { width: 100%; border-collapse: collapse; }
td, th { border: 1px solid black; padding: 8px; }
tr:nth-child(even) { background-color: #f2f2f2; } /* M√†u xen k·∫Ω */
tr:hover { background-color: #ddd; } /* Hi·ªáu ·ª©ng hover */
</pre>
             </div>
        </div>
      </div>
    </div>

    <div id="danhSach" class="content">
      <div class="content-box">
        <h2>B√†i 1: T·∫°o danh s√°ch c√≥ th·ª© t·ª± v√† kh√¥ng th·ª© t·ª±</h2>
        <div class="tabs">
          <button class="tab-button active" data-tab="yeucau16">Y√™u c·∫ßu</button>
          <button class="tab-button" data-tab="goiy16">G·ª£i √Ω</button>
        </div>
        <div id="yeucau16" class="tab-content active">
          <p><strong>Y√™u c·∫ßu:</strong></p>
          <div class="khung">
            <p>T·∫°o trang HTML v·ªõi:</p>
            <ul>
              <li>Danh s√°ch kh√¥ng th·ª© t·ª± (&lt;ul&gt;)</li>
              <li>Danh s√°ch c√≥ th·ª© t·ª± (&lt;ol&gt;)</li>
              <li>Thay ƒë·ªïi ki·ªÉu ƒë√°nh d·∫•u</li>
            </ul>
          </div>
        </div>
        <div id="goiy16" class="tab-content">
             <p><strong>G·ª£i √Ω:</strong></p>
             <div class="khung">
<pre>
&lt;!-- Kh√¥ng th·ª© t·ª± (ch·∫•m tr√≤n) --&gt;
&lt;ul&gt;
  &lt;li&gt;M·ª•c 1&lt;/li&gt;
  &lt;li&gt;M·ª•c 2&lt;/li&gt;
&lt;/ul&gt;

&lt;!-- C√≥ th·ª© t·ª± (1, 2, 3...) --&gt;
&lt;ol type="A"&gt; &lt;!-- ƒê√°nh d·∫•u A, B, C --&gt;
  &lt;li&gt;M·ª•c A&lt;/li&gt;
  &lt;li&gt;M·ª•c B&lt;/li&gt;
&lt;/ol&gt;
</pre>
             </div>
        </div>
      </div>

      <div class="content-box">
        <h2>B√†i 2: Danh s√°ch l·ªìng nhau</h2>
        <div class="tabs">
          <button class="tab-button active" data-tab="yeucau17">Y√™u c·∫ßu</button>
          <button class="tab-button" data-tab="goiy17">G·ª£i √Ω</button>
        </div>
        <div id="yeucau17" class="tab-content active">
          <p><strong>Y√™u c·∫ßu:</strong></p>
          <div class="khung">
            <p>T·∫°o danh s√°ch l·ªìng nhau:</p>
            <ul>
              <li>Danh s√°ch ch√≠nh v·ªõi 3 m·ª•c</li>
              <li>M·ªói m·ª•c c√≥ danh s√°ch con</li>
              <li>K·∫øt h·ª£p &lt;ul&gt; v√† &lt;ol&gt;</li>
            </ul>
          </div>
        </div>
        <div id="goiy17" class="tab-content">
             <p><strong>G·ª£i √Ω:</strong></p>
             <div class="khung">
                 <p>ƒê·∫∑t danh s√°ch con <strong>b√™n trong</strong> th·∫ª <code>&lt;li&gt;</code> c·ªßa danh s√°ch cha:</p>
<pre>
&lt;ul&gt;
  &lt;li&gt;Tr√°i c√¢y
    &lt;ol&gt;
      &lt;li&gt;T√°o&lt;/li&gt;
      &lt;li&gt;Cam&lt;/li&gt;
    &lt;/ol&gt;
  &lt;/li&gt;
  &lt;li&gt;Rau c·ªß...&lt;/li&gt;
&lt;/ul&gt;
</pre>
             </div>
        </div>
      </div>

      <div class="content-box">
        <h2>B√†i 3: Danh s√°ch v·ªõi CSS styling</h2>
        <div class="tabs">
          <button class="tab-button active" data-tab="yeucau18">Y√™u c·∫ßu</button>
          <button class="tab-button" data-tab="goiy18">G·ª£i √Ω</button>
        </div>
        <div id="yeucau18" class="tab-content active">
          <p><strong>Y√™u c·∫ßu:</strong></p>
          <div class="khung">
            <p>T·∫°o danh s√°ch v·ªõi styling CSS:</p>
            <ul>
              <li>Thay ƒë·ªïi ki·ªÉu ƒë√°nh d·∫•u</li>
              <li>M√†u s·∫Øc v√† font</li>
              <li>Hover effects</li>
            </ul>
          </div>
        </div>
        <div id="goiy18" class="tab-content">
             <p><strong>G·ª£i √Ω:</strong></p>
             <div class="khung">
<pre>
ul { 
  list-style-type: square; /* ƒê·ªïi ch·∫•m tr√≤n th√†nh vu√¥ng */
  color: blue; 
}
li:hover { 
  color: red; /* ƒê·ªïi m√†u khi di chu·ªôt */
  font-weight: bold;
}
</pre>
             </div>
        </div>
      </div>
    </div>

    <div id="chuThich" class="content">
      <div class="content-box">
        <h2>B√†i 1: T·∫°o ch√∫ th√≠ch d∆∞·ªõi ·∫£nh b·∫±ng &lt;figcaption&gt;</h2>
        <div class="tabs">
          <button class="tab-button active" data-tab="yeucau19">Y√™u c·∫ßu</button>
          <button class="tab-button" data-tab="goiy19">G·ª£i √Ω</button>
        </div>
        <div id="yeucau19" class="tab-content active">
          <p><strong>Y√™u c·∫ßu:</strong></p>
          <div class="khung">
            <p>T·∫°o trang HTML v·ªõi:</p>
            <ul>
              <li>·∫¢nh trong &lt;figure&gt;</li>
              <li>Ch√∫ th√≠ch b·∫±ng &lt;figcaption&gt;</li>
              <li>Styling cho figure</li>
            </ul>
          </div>
        </div>
        <div id="goiy19" class="tab-content">
             <p><strong>G·ª£i √Ω:</strong></p>
             <div class="khung">
                 <p>S·ª≠ d·ª•ng th·∫ª <code>&lt;figure&gt;</code> bao quanh ·∫£nh v√† ch√∫ th√≠ch:</p>
<pre>
&lt;figure style="border: 1px solid #ccc; width: fit-content;"&gt;
  &lt;img src="anh.jpg" alt="M√¥ t·∫£" width="200"&gt;
  &lt;figcaption&gt;H√¨nh 1: ƒê√¢y l√† ch√∫ th√≠ch ·∫£nh&lt;/figcaption&gt;
&lt;/figure&gt;
</pre>
             </div>
        </div>
      </div>

      <div class="content-box">
        <h2>B√†i 2: T·∫°o tr√≠ch d·∫´n v·ªõi &lt;blockquote&gt; v√† &lt;q&gt;</h2>
        <div class="tabs">
          <button class="tab-button active" data-tab="yeucau20">Y√™u c·∫ßu</button>
          <button class="tab-button" data-tab="goiy20">G·ª£i √Ω</button>
        </div>
        <div id="yeucau20" class="tab-content active">
          <p><strong>Y√™u c·∫ßu:</strong></p>
          <div class="khung">
            <p>T·∫°o trang HTML v·ªõi:</p>
            <ul>
              <li>Tr√≠ch d·∫´n d√†i b·∫±ng &lt;blockquote&gt;</li>
              <li>Tr√≠ch d·∫´n ng·∫Øn b·∫±ng &lt;q&gt;</li>
              <li>Cite attribute</li>
            </ul>
          </div>
        </div>
        <div id="goiy20" class="tab-content">
             <p><strong>G·ª£i √Ω:</strong></p>
             <div class="khung">
<pre>
&lt;!-- Tr√≠ch d·∫´n d√†i (ƒëo·∫°n ri√™ng) --&gt;
&lt;blockquote cite="https://nguon-trich-dan.com"&gt;
  H·ªçc, h·ªçc n·ªØa, h·ªçc m√£i.
&lt;/blockquote&gt;

&lt;!-- Tr√≠ch d·∫´n ng·∫Øn (trong d√≤ng) --&gt;
&lt;p&gt;L√™-nin ƒë√£ n√≥i: &lt;q&gt;H·ªçc, h·ªçc n·ªØa, h·ªçc m√£i&lt;/q&gt;&lt;/p&gt;
</pre>
             </div>
        </div>
      </div>
    </div>

    </div>
  </div>
</div>
</div>

<script>
  // C·∫•u h√¨nh s·ªë b√†i t·∫≠p cho t·ª´ng m·ª•c HTML
  const sectionConfig = {
    'cautruc': 3,
    'soanthao': 2,
    'thecoBan': 2,
    'lienKet': 3,
    'hinhAnh': 2,
    'bangBieu': 3,
    'danhSach': 3,
    'chuThich': 2
  };

  const totalExercises = Object.values(sectionConfig).reduce((a, b) => a + b, 0);

    document.addEventListener('DOMContentLoaded', function() {
        injectHtmlGradingPanels();
        loadProgress();
        restoreHtmlDrafts();
    });

    function injectHtmlGradingPanels() {
        Object.keys(sectionConfig).forEach(sectionId => {
            const sectionEl = document.getElementById(sectionId);
            if (!sectionEl) return;

            const boxes = sectionEl.querySelectorAll('.content-box');
            boxes.forEach((box, idx) => {
                const exerciseIndex = idx + 1;
                const textareaId = `grade-html-${sectionId}-${exerciseIndex}`;
                if (box.querySelector(`#${textareaId}`)) return;

                const wrapper = document.createElement('div');
                wrapper.className = 'khung';
                wrapper.style.marginTop = '12px';
                wrapper.innerHTML = `
                  <p><b>Ch·∫•m b√†i t·ª± ƒë·ªông:</b> D√°n m√£ HTML v√†o √¥ d∆∞·ªõi.</p>
                  <div style="display:flex; gap:12px; flex-wrap:wrap;">
                    <div style="flex:1; min-width:280px;">
                      <label for="${textareaId}"><b>HTML</b></label>
                      <textarea id="${textareaId}" style="width:100%; height:250px;" placeholder="D√°n m√£ HTML c·ªßa b·∫°n v√†o ƒë√¢y"></textarea>
                    </div>
                  </div>
                  <div style="display:flex; gap:12px; margin-top:12px; flex-wrap:wrap;">
                    <button class="btn-finish btn-run" style="flex:1; min-width:140px;" onclick="previewHtml('${sectionId}', ${exerciseIndex})"><i class="fa-solid fa-eye"></i> Ch·∫°y th·ª≠</button>
                    <button class="btn-finish grade-btn" data-section="${sectionId}" data-index="${exerciseIndex}" style="flex:1; min-width:140px;" onclick="gradeHtml('${sectionId}', ${exerciseIndex})"><i class="fa-solid fa-wand-magic-sparkles"></i> Ch·∫•m b√†i</button>
                  </div>
                  <div id="grade-result-${sectionId}-${exerciseIndex}" style="margin-top:10px;"></div>
                `;

                const textarea = wrapper.querySelector('textarea');
                const cached = loadHtmlDraft(textareaId);
                if (cached !== null) textarea.value = cached;
                textarea.addEventListener('input', () => saveHtmlDraft(textareaId, textarea.value));

                box.appendChild(wrapper);
            });
        });
    }

          function saveHtmlDraft(key, value) {
            try {
              localStorage.setItem(`draft_${key}`, value || '');
            } catch (e) {}
          }

          function loadHtmlDraft(key) {
            try {
              const v = localStorage.getItem(`draft_${key}`);
              return v === null ? null : v;
            } catch (e) { return null; }
          }

          function restoreHtmlDrafts() {
            const fields = document.querySelectorAll('textarea[id^="grade-html-"]');
            fields.forEach(el => {
              const cached = loadHtmlDraft(el.id);
              if (cached !== null) el.value = cached;
              el.addEventListener('input', () => saveHtmlDraft(el.id, el.value));
            });
          }

  function showNotification(message, type = 'info') {
    const notification = document.createElement('div');
    notification.className = `notification notification-${type}`;
    notification.innerHTML = `
      <div class="notification-content">
        <span class="notification-message">${message}</span>
        <button class="notification-close" onclick="this.parentElement.parentElement.remove()">√ó</button>
      </div>
    `;
    
    document.body.appendChild(notification);
    
    // T·ª± ƒë·ªông x√≥a sau 5 gi√¢y
    setTimeout(() => {
      notification.classList.add('fade-out');
      setTimeout(() => notification.remove(), 300);
    }, 5000);
  }

  function previewHtml(sectionId, exerciseIndex) {
    const htmlEl = document.getElementById(`grade-html-${sectionId}-${exerciseIndex}`);
    const outEl = document.getElementById(`grade-result-${sectionId}-${exerciseIndex}`);
    if (!htmlEl || !outEl) return;

    if (!htmlEl.value.trim()) {
      showNotification("‚ö†Ô∏è Vui l√≤ng nh·∫≠p m√£ HTML tr∆∞·ªõc khi ch·∫°y th·ª≠.", "warning");
      return;
    }

    showNotification("üîç ƒêang xem tr∆∞·ªõc m√£...", "info");
    
    outEl.innerHTML = `
      <div style="margin-top:20px;">
        <div style="background:#fff; border:1px solid #e0e0e0; border-radius:12px; box-shadow:0 6px 20px rgba(0,0,0,0.08); padding:16px;">
          <div style="font-weight:700; color:#0d6efd; margin-bottom:12px; display:flex; justify-content:space-between; align-items:center;">
            <span>Xem tr∆∞·ªõc k·∫øt qu·∫£</span>
            <span style="font-size:14px; color:#666; font-weight:400;">üí° B·∫•m "Ch·∫•m b√†i" ƒë·ªÉ ki·ªÉm tra ƒëi·ªÉm</span>
          </div>
          <iframe id="preview-${sectionId}-${exerciseIndex}" style="width:100%; height:400px; border:1px solid #ddd; border-radius:10px; background:white;"></iframe>
        </div>
      </div>`;
    
    const iframe = document.getElementById(`preview-${sectionId}-${exerciseIndex}`);
    if (iframe) {
      iframe.srcdoc = htmlEl.value;
    }
  }

  function previewHtml(sectionId, exerciseIndex) {
    const htmlEl = document.getElementById(`grade-html-${sectionId}-${exerciseIndex}`);
    const outEl = document.getElementById(`grade-result-${sectionId}-${exerciseIndex}`);
    if (!htmlEl || !outEl) return;

    if (!htmlEl.value.trim()) {
      showNotification("‚ö†Ô∏è Vui l√≤ng nh·∫≠p m√£ HTML tr∆∞·ªõc khi ch·∫°y th·ª≠.", "warning");
      return;
    }

    showNotification("üîç ƒêang xem tr∆∞·ªõc m√£...", "info");
    
    outEl.innerHTML = `
      <div style="margin-top:20px;">
        <div style="background:#fff; border:1px solid #e0e0e0; border-radius:12px; box-shadow:0 6px 20px rgba(0,0,0,0.08); padding:16px;">
          <div style="font-weight:700; color:#0d6efd; margin-bottom:12px; display:flex; justify-content:space-between; align-items:center;">
            <span>Xem tr∆∞·ªõc k·∫øt qu·∫£</span>
            <span style="font-size:14px; color:#666; font-weight:400;">üí° B·∫•m "Ch·∫•m b√†i" ƒë·ªÉ ki·ªÉm tra ƒëi·ªÉm</span>
          </div>
          <iframe id="preview-${sectionId}-${exerciseIndex}" style="width:100%; height:400px; border:1px solid #ddd; border-radius:10px; background:white;"></iframe>
        </div>
      </div>`;
    
    const iframe = document.getElementById(`preview-${sectionId}-${exerciseIndex}`);
    if (iframe) {
      iframe.srcdoc = htmlEl.value;
    }
  }

  async function gradeHtml(sectionId, exerciseIndex) {
    const htmlEl = document.getElementById(`grade-html-${sectionId}-${exerciseIndex}`);
    const outEl = document.getElementById(`grade-result-${sectionId}-${exerciseIndex}`);
    if (!htmlEl || !outEl) return;

    const payload = {
      sectionId: sectionId,
      exerciseIndex: exerciseIndex || 1,
      html: htmlEl.value || ""
    };

    outEl.innerHTML = "ƒêang ch·∫•m b√†i...";
    showNotification("‚è≥ ƒêang ch·∫•m b√†i, vui l√≤ng ch·ªù...", "info");

    try {
      const res = await fetch('/Exercises/GradeHtml', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(payload)
      });
      const data = await res.json();

      const scoreVal = Number(data.score) || 0;
      const totalChecks = (data.passedChecks || []).length + (data.failedChecks || []).length;
      const passedCount = (data.passedChecks || []).length;
      const isPerfect = scoreVal >= 100;

      if (isPerfect) {
        let completed = JSON.parse(localStorage.getItem('html_progress_list')) || [];
        const key = `${sectionId}-${exerciseIndex}`;
        if (!completed.includes(key)) {
          completed.push(key);
          localStorage.setItem('html_progress_list', JSON.stringify(completed));
          calculateProgress(completed);
        }
        const btn = document.querySelector(`button.grade-btn[data-section="${sectionId}"][data-index="${exerciseIndex}"]`) 
          || document.querySelector(`button.grade-btn[onclick="gradeHtml('${sectionId}', ${exerciseIndex})"]`);
        updateButtonState(btn, true);
        
        // Hi·ªÉn th·ªã k·∫øt qu·∫£ th√†nh c√¥ng (th·∫ª ƒë·∫πp, kh√¥ng ch·ªØ "K·∫øt qu·∫£")
        outEl.innerHTML = `
          <div class="result-card success">
            <div class="rc-header">
              <i class="fa-solid fa-circle-check"></i>
              <span>Ch·∫•m b√†i: ƒê·∫°t 100%</span>
            </div>
            <div class="rc-body">
              <div class="rc-title">${getSectionNameHtml(sectionId)} - B√†i ${exerciseIndex}</div>
              
              <div class="rc-actions">
                <button class="btn-finish" style="background:#28a745; color:white; padding:12px 24px; border:none; border-radius:10px; cursor:pointer;" onclick="nextExercise('${sectionId}', ${exerciseIndex})">B√†i ti·∫øp theo ‚Üí</button>
              </div>
            </div>
          </div>`;
      } else {
        // Hi·ªÉn th·ªã k·∫øt qu·∫£ ch∆∞a ƒë·∫°t (th·∫ª ƒë·∫πp, kh√¥ng ch·ªØ "K·∫øt qu·∫£")
        outEl.innerHTML = `
          <div class="result-card error">
            <div class="rc-header">
              <i class="fa-solid fa-triangle-exclamation"></i>
              <span>Ch·∫•m b√†i: Ch∆∞a ƒë·∫°t</span>
            </div>
            <div class="rc-body">
              <div class="rc-title">${getSectionNameHtml(sectionId)} - B√†i ${exerciseIndex}</div>
              
              <div class="rc-actions">
                <button class="btn-finish" style="background:#d32f2f; color:white; padding:12px 24px; border:none; border-radius:10px; cursor:pointer;" onclick="retryExercise('${sectionId}', ${exerciseIndex})">L√†m l·∫°i ngay</button>
              </div>
            </div>
          </div>`;
      }
    } catch (e) {
      outEl.innerHTML = "L·ªói khi ch·∫•m b√†i. Vui l√≤ng th·ª≠ l·∫°i.";
      showNotification("‚ùå L·ªói khi ch·∫•m b√†i. Vui l√≤ng th·ª≠ l·∫°i.", "error");
    }
  }

  function retryExercise(sectionId, exerciseIndex) {
    const htmlEl = document.getElementById(`grade-html-${sectionId}-${exerciseIndex}`);
    const outEl = document.getElementById(`grade-result-${sectionId}-${exerciseIndex}`);
    if (htmlEl) htmlEl.value = '';
    if (outEl) outEl.innerHTML = '';
    htmlEl?.focus();
  }

  function nextExercise(sectionId, exerciseIndex) {
    const currentSection = document.getElementById(sectionId);
    const boxes = currentSection.querySelectorAll('.content-box');
    const nextBox = boxes[exerciseIndex];
    if (nextBox) {
      nextBox.scrollIntoView({ behavior: 'smooth', block: 'start' });
    }
  }
  
  function getSectionNameHtml(sectionId) {
    const names = {
      'cautruc': 'C·∫•u tr√∫c HTML',
      'soanthao': 'So·∫°n th·∫£o n·ªôi dung',
      'thecoBan': 'C√°c th·∫ª c∆° b·∫£n',
      'lienKet': 'Li√™n k·∫øt (Link)',
      'hinhAnh': 'H√¨nh ·∫£nh',
      'bangBieu': 'B·∫£ng bi·ªÉu',
      'danhSach': 'Danh s√°ch',
      'chuThich': 'Ch√∫ th√≠ch, Tr√≠ch d·∫´n'
    };
    return names[sectionId] || sectionId;
  }

  function updateButtonState(btn, isDone) {
    if (isDone && btn) {
      btn.classList.add('done');
    }
  }

  function loadProgress() {
    let completed = JSON.parse(localStorage.getItem('html_progress_list')) || [];
    calculateProgress(completed);

    const allButtons = document.querySelectorAll('.btn-finish');
    allButtons.forEach(btn => {
      const onclickText = btn.getAttribute('onclick') || '';

      for (const section in sectionConfig) {
        for (let i = 1; i <= sectionConfig[section]; i++) {
          if (onclickText.includes(`'${section}', ${i}`)) {
            if (completed.includes(`${section}-${i}`)) {
              updateButtonState(btn, true);
            }
          }
        }
      }
    });
  }

  function calculateProgress(completedList) {
    let percent = Math.round((completedList.length / totalExercises) * 100);
    const barFill = document.getElementById('progress-bar-fill');
    const barText = document.getElementById('progress-percent');

    if (barFill) barFill.style.width = percent + '%';
    if (barText) barText.innerText = percent + '%';

    for (const [section, count] of Object.entries(sectionConfig)) {
      let finishedCount = 0;
      for (let i = 1; i <= count; i++) {
        if (completedList.includes(`${section}-${i}`)) {
          finishedCount++;
        }
      }

      const sectionPercent = Math.round((finishedCount / count) * 100);
      const menuText = document.getElementById(`menu-prog-${section}`);
      if (menuText) {
        menuText.innerText = `(${sectionPercent}%)`;
        menuText.style.color = sectionPercent === 100 ? '#04AA6D' : '#d32f2f';
      }

      if (finishedCount === count && count > 0) {
        const link = document.getElementById(`link-${section}`);
        if (link) {
          link.classList.add('menu-completed');
          const icon = link.querySelector('.check-icon');
          if (icon) icon.style.display = 'inline-block';
        }
      }
    }
  }
</script>
